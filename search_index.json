[
["index.html", "About this Guide", " About this Guide Houston R Users are hosting a guided intro workshop on November 12, 2016. This guide is the full version of the short guide handed out at the workshop. This should be a good reference for reviewing things we covered in person, or for a self-guided introduction to R. "],
["welcome-to-intro-to-r.html", "1 Welcome to Intro to R 1.1 Why R? 1.2 Why not R? 1.3 What is the scope of this workshop?", " 1 Welcome to Intro to R We are very excited you could make it to this Intro to R workshop! We hope to leave this workshop with some practical practice under our belts working with data in R and the ability to find and understand resources when applying these steps to our own datasets. 1.1 Why R? R is a programming language designed specifically for statistics. Because it is a free and open source language, many people have contributed to the R ecosystem. In addition to being very powerful and expressive for statistical analysis, R has become very popular for doing exploratory data visualization and reporting as well. 1.2 Why not R? R is limited in producing highly-customized and interactive reporting visualizations While R is able to produce interactive graphics, maps, and dashboards, a lot of the more expressive and customized interactive data presentations will require knowledge of JavaScript. The amount you can do directly from within R is increasing rapidly, however, and you can read more about that here. R is not as expressive for general tasks such as scraping and crawling New additions to R like tidyr and dplyr are making R more expressive; the result is R is becoming a strong competitor in more general tasks like data-mining, data-wrangling, and scraping and crawling for data. R requires data to be loaded into memory For projects where exceptionally large data needs to be analyzed or processed very quickly, we will want to consider using tools that help us work around the memory limitations. Overall, R is a top choice for data exploration, modelling, analysis, and static graphics. 1.3 What is the scope of this workshop? This workshop will cover steps and code that can be readily adapted for small to moderate sized datasets. Specifically, we will be: Loading in data Exploring it Cleaning it Calculating descriptive statistics Visualizing it Modeling it Making a report We will also cover how to get help and how to learn more about using R. Additionally, we’ve pulled together different resources for things we aren’t covering into our appendix. While we will not be able to cover how to handle a wide variety of different datasets and visualizations, our mentors have a wide range of experiences with using R for energy data, bioinformatics, mapping, natural language processing, and much more! We hope to get to know you throughout the workshop and share domain specific experiences with you. "],
["interacting-with-simple-data.html", "2 Interacting with Simple Data 2.1 What is RStudio? 2.2 Coding in the console 2.3 Loading in data 2.4 Glancing at the data 2.5 Visualizing the data 2.6 Modeling the data 2.7 Working with a simple dataset", " 2 Interacting with Simple Data 2.1 What is RStudio? Today, we will be working with R in RStudio. While there are other programs we can use to write R, RStudio has become the standard environment for working with R. RStudio has four main windows: a file viewer, an interactive console, an environment viewer, and directory viewer. Let’s focus on the interactive console first. 2.2 Coding in the console Click in the interactive console. You’ll notice a cursor will start blinking next to the &gt; symbol. This is called the command prompt; the computer is waiting for us to give it a command; it’s “prompting” us, and letting us know it’s ready. Given that R was made for statistics, we should expect it to have no problems with numbers and math. Let’s try some basics! 1 ## [1] 1 1 + 5 ## [1] 6 10 + 12 ## [1] 22 Pressing enter after each line of code runs it, and R will tell us the answer right away. This lets us interact with R quickly. R, like other programming languages, can remember information we give it in named variables. This is called assigning variables with a value. Let’s tell R to remember some information for us. x &lt;- 1 y &lt;- 5 z &lt;- 10 The &lt; and - can be seen as an arrow pointing to the left. You can think of this as saying, “assign the value 1 to a variable named x”. If you are familiar with other programming languages, &lt;- and = can be used interchangably in R, but the preferred way is to use &lt;-. We can also see all the information we’ve told R to remember in the environment viewer. We can ask R what the values of these variables are: x ## [1] 1 y ## [1] 5 z ## [1] 10 We can also use these variables like so: x + y ## [1] 6 x + z ## [1] 11 z * y ## [1] 50 And if we try to ask R about a variable it doesn’t know about, R will tell us that it can’t find that variable: a ## Error in eval(expr, envir, enclos): object &#39;a&#39; not found This is neat and all, but we’re here to dig into data, so let’s get to it! 2.3 Loading in data We are going to load in CSV files today to get data into R. R is powerful for statistics because it has a great base collection of functions, or named procedures, for common things we’d want to do with data, like reading in a CSV. R’s base way of doing this is with a function named read.csv. Like the named variables, we can get what read.csv is by referring to its name. For more info on loading data, see here. read.csv ## function (file, header = TRUE, sep = &quot;,&quot;, quote = &quot;\\&quot;&quot;, dec = &quot;.&quot;, ## fill = TRUE, comment.char = &quot;&quot;, ...) ## read.table(file = file, header = header, sep = sep, quote = quote, ## dec = dec, fill = fill, comment.char = comment.char, ...) ## &lt;bytecode: 0x3d1d090&gt; ## &lt;environment: namespace:utils&gt; Here, we get back just what read.csv is. In order to tell R to do or run the function, we need to run: read.csv() ## Error in read.table(file = file, header = header, sep = sep, quote = quote, : argument &quot;file&quot; is missing, with no default To learn more about any function, we can add a ? in front of the function name like this: ?read.csv In order to know what file to read in, we need to give the function the location of the file: read.csv(file = &#39;crickets.csv&#39;) ## Chirpspersecond Temperature ## 1 20.0 88.6 ## 2 16.0 71.6 ## 3 19.8 93.3 ## 4 18.4 84.3 ## 5 17.1 80.6 ## 6 15.5 75.2 ## 7 14.7 69.7 ## 8 17.1 82.0 ## 9 15.4 69.4 ## 10 16.2 83.3 ## 11 15.0 79.6 ## 12 17.2 82.6 ## 13 16.0 80.6 ## 14 17.0 83.5 ## 15 14.4 76.3 RStudio reminds us what different functions are named as we start typing them into console, and reminds us what additional information each of those functions may need when we type the (. It also automatically completes the function call for us with the ). When we read in the CSV, R printed the data out to us. In order to really use the data though, we need to tell R to remember the data by assigning it to a variable. We want to name our variables so that they’re easy to remember and indicative of what information they are holding onto. crickets &lt;- read.csv(file = &#39;crickets.csv&#39;) Now, when we ask R about crickets, we get the data back! crickets ## Chirpspersecond Temperature ## 1 20.0 88.6 ## 2 16.0 71.6 ## 3 19.8 93.3 ## 4 18.4 84.3 ## 5 17.1 80.6 ## 6 15.5 75.2 ## 7 14.7 69.7 ## 8 17.1 82.0 ## 9 15.4 69.4 ## 10 16.2 83.3 ## 11 15.0 79.6 ## 12 17.2 82.6 ## 13 16.0 80.6 ## 14 17.0 83.5 ## 15 14.4 76.3 There are many other ways to load in data from other file types. Googling “read xls to R” will give us some great answers on how to read in data as an Excel sheet. We also have a quick list of standard ways to load other common file types in the appendix. Let’s get a quick sense of what this data is like! 2.4 Glancing at the data Here’s a table of some quick functions we can run on the data to learn about it: Code Description names(crickets) Column header names dim(crickets) Number of rows by number of columns nrow(crickets) Number of rows ncol(crickets) Number of columns str(crickets) Structure of data summary(crickets) Summary of the data View(crickets) View data in file viewer We can also look at parts of the data using verbs like filter() and select(), provided by the dplyr package. install.packages(&#39;dplyr&#39;) library(dplyr) We can look at just specific rows matching a certain condition, using filter(): filter(crickets, Temperature &lt; 75) ## Chirpspersecond Temperature ## 1 16.0 71.6 ## 2 14.7 69.7 ## 3 15.4 69.4 filter(crickets, Temperature == 82) ## Chirpspersecond Temperature ## 1 17.1 82 or just specific columns, using select(): select(crickets, Chirpspersecond) ## Chirpspersecond ## 1 20.0 ## 2 16.0 ## 3 19.8 ## 4 18.4 ## 5 17.1 ## 6 15.5 ## 7 14.7 ## 8 17.1 ## 9 15.4 ## 10 16.2 ## 11 15.0 ## 12 17.2 ## 13 16.0 ## 14 17.0 ## 15 14.4 select(crickets, Temperature) ## Temperature ## 1 88.6 ## 2 71.6 ## 3 93.3 ## 4 84.3 ## 5 80.6 ## 6 75.2 ## 7 69.7 ## 8 82.0 ## 9 69.4 ## 10 83.3 ## 11 79.6 ## 12 82.6 ## 13 80.6 ## 14 83.5 ## 15 76.3 We can pass the output of one of these to another function to calculate the mean. mean(unlist(select(crickets, Temperature))) ## [1] 80.04 Notice how we nested one function inside another? There’s another way to do this, a way that’s more readable and easier to reason about. We can use the pipe operator, represented by the %&gt;% symbol, to achieve the same thing. crickets %&gt;% select(Temperature) %&gt;% unlist() %&gt;% mean() ## [1] 80.04 You read this left to right, and you can see the steps the data go through in logical order. We can use this approach to calculate our own means, standard deviations, and medians: crickets %&gt;% select(Chirpspersecond) %&gt;% unlist() %&gt;% median() crickets %&gt;% select(Chirpspersecond) %&gt;% unlist() %&gt;% sd() crickets %&gt;% select(Temperature) %&gt;% unlist() %&gt;% mean() crickets %&gt;% select(Temperature) %&gt;% unlist() %&gt;% median() crickets %&gt;% select(Temperature) %&gt;% unlist() %&gt;% sd() We can also ask R for the max and the min values: crickets %&gt;% select(Chirpspersecond) %&gt;% unlist() %&gt;% max() crickets %&gt;% select(Chirpspersecond) %&gt;% unlist() %&gt;% min() crickets %&gt;% select(Temperature) %&gt;% unlist() %&gt;% max() crickets %&gt;% select(Temperature) %&gt;% unlist() %&gt;% min() There’s many more calculations we can run on the data, but plotting the data will help us we a better picture of it. 2.5 Visualizing the data Base R can plot our data, but the wonderful thing about R being open-sourced is that it’s encouraged many people to expand it’s functionality by writing groups of functions, called packages. These packages are available for everyone to install and use. To plot our data, we will use an outside package, called ggplot2, which has become the standard way to plot data in R. We can install the ggplot2 package by calling the install.packages function like this: install.packages(&#39;ggplot2&#39;) While the package is installing, let’s take a break! Once the package installed, we need to tell R to load it so we can use it. library(ggplot2) To start, we can tell ggplot what our data is: ggplot(data = crickets) This gives us back a rather boring blank gray square. At this point, ggplot does not know what about the data to map to where. We can tell it to map Temperature as the x and Chirpspersecond as the y, like this: ggplot(data = crickets, mapping = aes(x = Temperature, y = Chirpspersecond)) At this point, ggplot seems to know where things should go, but there’s no points. This base layer is ready with our coordinates and axis, but we would also like ggplot to map the data in the same way to a layer of markings that represent the data. Let’s try points: ggplot(data = crickets, mapping = aes(x = Temperature, y = Chirpspersecond)) + geom_point() We now have points, each with its y mapped to Chirpspersecond and the x mapped to Temperature. We can also mapped the color of each point to the temperature like this: ggplot(data = crickets, mapping = aes(x = Temperature, y = Chirpspersecond)) + geom_point(mapping = aes(color = Temperature)) This gives the points colors mapped from the Temperature along a default scale. We can adjust the scale to give a sense of the temperature like this: ggplot(data = crickets, mapping = aes(x = Temperature, y = Chirpspersecond)) + geom_point(mapping = aes(color = Temperature)) + scale_color_gradient(low = &quot;orange&quot;, high = &quot;red&quot;) Let’s take some time to experiment with different visualizations using ggplot2. See the data visualization cheat sheet for ideas. One of the reasons that ggplot is so popular is that it has a very extensible syntax. ggplot is built on the concept of a grammar of graphics. The grammar of graphics is a way to build plots in a structured way. Every plot consists of a dataset, aesthetics to map of the dataset, and a geom that defines how to display the data. Let’s break down our function call above into its graphical grammar elements: dataset = the crickets data frame aesthetics = the Temperature and Chirpspersecond variables geom = the point geom (geom_point function call) is used to create a scatterplot The syntax may seem a little confusing at first, but it can create some very powerful results once you understand how it works. It allows you to build up plots in layers. It also allows you to manipulate plots in a way similar to manipulating data (via function calls). For example, we can assign our plot to a variable p. p &lt;- ggplot(data = crickets, mapping = aes(x = Temperature, y = Chirpspersecond)) + geom_point(mapping = aes(color = Temperature)) + scale_color_gradient(low = &quot;orange&quot;, high = &quot;red&quot;) p Now we can manipulate our plot like any other variable. Let’s add a title. p + ggtitle(&quot;Cricket Chirps vs. Temperature&quot;) We can also add another geom just as easily. Let’s add a smoothing function to show what a linear model might look like. p + ggtitle(&quot;Cricket Chirps vs. Temperature&quot;) + geom_smooth() ## `geom_smooth()` using method = &#39;loess&#39; Once we have a plot we like, we can save our last plot to an image file very easily: ggsave(filename = &quot;plot.png&quot;) ## Saving 7 x 5 in image ## `geom_smooth()` using method = &#39;loess&#39; 2.6 Modeling the data From the plots, we see a potential correlation between Chirpspersecond and Temperature. If we were ever without our smart phones and thermometers, out in the country with some crickets, we might want to know if we can use the Chirpspersecond to calculate the Temperature. We can calculate the linear model for Temperature vs. Chirpspersecond using R’s lm function: lm(Temperature ~ Chirpspersecond, data = crickets) ## ## Call: ## lm(formula = Temperature ~ Chirpspersecond, data = crickets) ## ## Coefficients: ## (Intercept) Chirpspersecond ## 25.232 3.291 To calculate a linear model for Chirpspersecond from Temperature, we would do this: lm(Chirpspersecond ~ Temperature, data = crickets) ## ## Call: ## lm(formula = Chirpspersecond ~ Temperature, data = crickets) ## ## Coefficients: ## (Intercept) Temperature ## -0.3091 0.2119 There’s actually more information that lm tells us. Let’s take a look by first telling the computer the remember the result as a variable called crickets_lm. crickets_lm &lt;- lm(Chirpspersecond ~ Temperature, data = crickets) We can use the broom package to help us get to the information stored in the model. Let’s install that first: install.packages(&#39;broom&#39;) library(&#39;broom&#39;) For example: tidy(crickets_lm) ## term estimate std.error statistic p.value ## 1 (Intercept) -0.3091419 3.10858391 -0.09944782 0.9222999135 ## 2 Temperature 0.2119250 0.03871123 5.47450961 0.0001066719 We get the slope and the intercept from the estimate column. Let’s use tidy() and geom_abline() to add a line on top of our scatterplot so we can eyeball how our linear model fits. lm_intercept &lt;- crickets_lm %&gt;% tidy %&gt;% filter(term == &quot;(Intercept)&quot;) %&gt;% select(estimate) %&gt;% unlist() lm_slope &lt;- crickets_lm %&gt;% tidy %&gt;% filter(term == &quot;Temperature&quot;) %&gt;% select(estimate) %&gt;% unlist() ggplot(data = crickets, mapping = aes(x = Temperature, y = Chirpspersecond)) + geom_point(mapping = aes(color = Temperature)) + scale_color_gradient(low = &quot;orange&quot;, high = &quot;red&quot;) + geom_abline(slope = lm_slope, intercept = lm_intercept, color = &quot;maroon&quot;) Additionally, cor and cor.test are two functions that can tell us about correlations between paired samples. As before, the ? can help us learn more: ?cor ?cor.test We can run these functions on our data by using crickets[,1] as the x, and crickets[,2] as the y like so: cor(x = crickets[,1], y = crickets[,2]) ## [1] 0.8351438 cor.test(x = crickets[,1], y = crickets[,2]) ## ## Pearson&#39;s product-moment correlation ## ## data: crickets[, 1] and crickets[, 2] ## t = 5.4745, df = 13, p-value = 0.0001067 ## alternative hypothesis: true correlation is not equal to 0 ## 95 percent confidence interval: ## 0.5642928 0.9436856 ## sample estimates: ## cor ## 0.8351438 2.7 Working with a simple dataset So far, we’ve: Loaded in the data from a csv crickets &lt;- read.csv(file = &#39;crickets.csv&#39;) Learned more about the data as a whole Code Description names(crickets) Column header names dim(crickets) Number of rows by number of columns nrow(crickets) Number of rows ncol(crickets) Number of columns str(crickets) Structure of data summary(crickets) Summary of the data View(crickets) View data in file viewer Looked at the data by rows and columns Code Description filter(crickets, Temperature &lt; 85 Rows with temperature less than 80 filter(crickets, Chirpspersecond &gt; 15 Rows with chirps per second greater than 15 select(crickets, Chirpspersecond) First column, Chirpspersecond select(crickets, Temperature) Second column, Temperature Calculated descriptive statistics on the data Code Description mean() Average Temperature median() Median Temperature sd() Standard deviation of Temperature max() Maximum Temperature min() Minimum Temperature Made plots of our data Code Description ggplot() create base layer of plot geom_point() scatterplot geom geom_smooth() smoothing geom with confidence intervals geom_abline() line geom ggtitle() add title to plot Applied statistical modelling to the data Code Description cor(crickets) calculate correlation coefficient cor.test(crickets) test for statistically significant correlation lm(crickets) create a linear model Crickets is a rather small and well-formed dataset. Let’s practice our new skills on a slightly more realistic dataset and learn additional skills for cleaning the data and making a report. "],
["this-time-its-for-real.html", "3 This time it’s for real! 3.1 Loading and exploring a larger dataset 3.2 Counting missing values 3.3 Ignoring missing values 3.4 Analyzing and Visualizing the data using a script 3.5 Modeling the data 3.6 Making a reproducible report", " 3 This time it’s for real! library(ggplot2) library(magrittr) library(Hmisc) Let’s pick up the pace and put our newfound skills to the test. For this section, we’re gonna use a dataset that looks more like what we’ll encounter in real life. It’s bigger in both dimensions - it has more rows but also more columns. It also has some missing data (oh noes!). Now things are getting real. 3.1 Loading and exploring a larger dataset We can load our new dataset the same way as before, using the read.csv() function. airquality &lt;- read.csv(&#39;airquality.csv&#39;) Let’s take a moment to explore the new dataset using tools we learned in the previous section. Try str, head, summary and get a good feel for the dataset. We can find the number of rows using nrow. nrow(airquality) ## [1] 153 3.2 Counting missing values I mentioned this dataset has some missing data, you may have noticed it already when exploring. In R, missing values are represented by the NA symbol. It’s always a good idea to check for missing values, even if you are sure your data is complete. We can ask R to tell us whether there are any NAs in the dataset using the is.na() function. is.na(airquality) ## Ozone Solar.R Wind Temp Month Day ## [1,] FALSE FALSE FALSE FALSE FALSE FALSE ## [2,] FALSE FALSE FALSE FALSE FALSE FALSE ## [3,] FALSE FALSE FALSE FALSE FALSE FALSE ## [4,] FALSE FALSE FALSE FALSE FALSE FALSE ## [5,] TRUE TRUE FALSE FALSE FALSE FALSE ## [6,] FALSE TRUE FALSE FALSE FALSE FALSE ## [7,] FALSE FALSE FALSE FALSE FALSE FALSE ## [8,] FALSE FALSE FALSE FALSE FALSE FALSE ## [9,] FALSE FALSE FALSE FALSE FALSE FALSE ## [10,] TRUE FALSE FALSE FALSE FALSE FALSE ## [11,] FALSE TRUE FALSE FALSE FALSE FALSE ## [12,] FALSE FALSE FALSE FALSE FALSE FALSE ## [13,] FALSE FALSE FALSE FALSE FALSE FALSE ## [14,] FALSE FALSE FALSE FALSE FALSE FALSE ## [15,] FALSE FALSE FALSE FALSE FALSE FALSE ## [16,] FALSE FALSE FALSE FALSE FALSE FALSE ## [17,] FALSE FALSE FALSE FALSE FALSE FALSE ## [18,] FALSE FALSE FALSE FALSE FALSE FALSE ## [19,] FALSE FALSE FALSE FALSE FALSE FALSE ## [20,] FALSE FALSE FALSE FALSE FALSE FALSE ## [21,] FALSE FALSE FALSE FALSE FALSE FALSE ## [22,] FALSE FALSE FALSE FALSE FALSE FALSE ## [23,] FALSE FALSE FALSE FALSE FALSE FALSE ## [24,] FALSE FALSE FALSE FALSE FALSE FALSE ## [25,] TRUE FALSE FALSE FALSE FALSE FALSE ## [26,] TRUE FALSE FALSE FALSE FALSE FALSE ## [27,] TRUE TRUE FALSE FALSE FALSE FALSE ## [28,] FALSE FALSE FALSE FALSE FALSE FALSE ## [29,] FALSE FALSE FALSE FALSE FALSE FALSE ## [30,] FALSE FALSE FALSE FALSE FALSE FALSE ## [31,] FALSE FALSE FALSE FALSE FALSE FALSE ## [32,] TRUE FALSE FALSE FALSE FALSE FALSE ## [33,] TRUE FALSE FALSE FALSE FALSE FALSE ## [34,] TRUE FALSE FALSE FALSE FALSE FALSE ## [35,] TRUE FALSE FALSE FALSE FALSE FALSE ## [36,] TRUE FALSE FALSE FALSE FALSE FALSE ## [37,] TRUE FALSE FALSE FALSE FALSE FALSE ## [38,] FALSE FALSE FALSE FALSE FALSE FALSE ## [39,] TRUE FALSE FALSE FALSE FALSE FALSE ## [40,] FALSE FALSE FALSE FALSE FALSE FALSE ## [41,] FALSE FALSE FALSE FALSE FALSE FALSE ## [42,] TRUE FALSE FALSE FALSE FALSE FALSE ## [43,] TRUE FALSE FALSE FALSE FALSE FALSE ## [44,] FALSE FALSE FALSE FALSE FALSE FALSE ## [45,] TRUE FALSE FALSE FALSE FALSE FALSE ## [46,] TRUE FALSE FALSE FALSE FALSE FALSE ## [47,] FALSE FALSE FALSE FALSE FALSE FALSE ## [48,] FALSE FALSE FALSE FALSE FALSE FALSE ## [49,] FALSE FALSE FALSE FALSE FALSE FALSE ## [50,] FALSE FALSE FALSE FALSE FALSE FALSE ## [51,] FALSE FALSE FALSE FALSE FALSE FALSE ## [52,] TRUE FALSE FALSE FALSE FALSE FALSE ## [53,] TRUE FALSE FALSE FALSE FALSE FALSE ## [54,] TRUE FALSE FALSE FALSE FALSE FALSE ## [55,] TRUE FALSE FALSE FALSE FALSE FALSE ## [56,] TRUE FALSE FALSE FALSE FALSE FALSE ## [57,] TRUE FALSE FALSE FALSE FALSE FALSE ## [58,] TRUE FALSE FALSE FALSE FALSE FALSE ## [59,] TRUE FALSE FALSE FALSE FALSE FALSE ## [60,] TRUE FALSE FALSE FALSE FALSE FALSE ## [61,] TRUE FALSE FALSE FALSE FALSE FALSE ## [62,] FALSE FALSE FALSE FALSE FALSE FALSE ## [63,] FALSE FALSE FALSE FALSE FALSE FALSE ## [64,] FALSE FALSE FALSE FALSE FALSE FALSE ## [65,] TRUE FALSE FALSE FALSE FALSE FALSE ## [66,] FALSE FALSE FALSE FALSE FALSE FALSE ## [67,] FALSE FALSE FALSE FALSE FALSE FALSE ## [68,] FALSE FALSE FALSE FALSE FALSE FALSE ## [69,] FALSE FALSE FALSE FALSE FALSE FALSE ## [70,] FALSE FALSE FALSE FALSE FALSE FALSE ## [71,] FALSE FALSE FALSE FALSE FALSE FALSE ## [72,] TRUE FALSE FALSE FALSE FALSE FALSE ## [73,] FALSE FALSE FALSE FALSE FALSE FALSE ## [74,] FALSE FALSE FALSE FALSE FALSE FALSE ## [75,] TRUE FALSE FALSE FALSE FALSE FALSE ## [76,] FALSE FALSE FALSE FALSE FALSE FALSE ## [77,] FALSE FALSE FALSE FALSE FALSE FALSE ## [78,] FALSE FALSE FALSE FALSE FALSE FALSE ## [79,] FALSE FALSE FALSE FALSE FALSE FALSE ## [80,] FALSE FALSE FALSE FALSE FALSE FALSE ## [81,] FALSE FALSE FALSE FALSE FALSE FALSE ## [82,] FALSE FALSE FALSE FALSE FALSE FALSE ## [83,] TRUE FALSE FALSE FALSE FALSE FALSE ## [84,] TRUE FALSE FALSE FALSE FALSE FALSE ## [85,] FALSE FALSE FALSE FALSE FALSE FALSE ## [86,] FALSE FALSE FALSE FALSE FALSE FALSE ## [87,] FALSE FALSE FALSE FALSE FALSE FALSE ## [88,] FALSE FALSE FALSE FALSE FALSE FALSE ## [89,] FALSE FALSE FALSE FALSE FALSE FALSE ## [90,] FALSE FALSE FALSE FALSE FALSE FALSE ## [91,] FALSE FALSE FALSE FALSE FALSE FALSE ## [92,] FALSE FALSE FALSE FALSE FALSE FALSE ## [93,] FALSE FALSE FALSE FALSE FALSE FALSE ## [94,] FALSE FALSE FALSE FALSE FALSE FALSE ## [95,] FALSE FALSE FALSE FALSE FALSE FALSE ## [96,] FALSE TRUE FALSE FALSE FALSE FALSE ## [97,] FALSE TRUE FALSE FALSE FALSE FALSE ## [98,] FALSE TRUE FALSE FALSE FALSE FALSE ## [99,] FALSE FALSE FALSE FALSE FALSE FALSE ## [100,] FALSE FALSE FALSE FALSE FALSE FALSE ## [101,] FALSE FALSE FALSE FALSE FALSE FALSE ## [102,] TRUE FALSE FALSE FALSE FALSE FALSE ## [103,] TRUE FALSE FALSE FALSE FALSE FALSE ## [104,] FALSE FALSE FALSE FALSE FALSE FALSE ## [105,] FALSE FALSE FALSE FALSE FALSE FALSE ## [106,] FALSE FALSE FALSE FALSE FALSE FALSE ## [107,] TRUE FALSE FALSE FALSE FALSE FALSE ## [108,] FALSE FALSE FALSE FALSE FALSE FALSE ## [109,] FALSE FALSE FALSE FALSE FALSE FALSE ## [110,] FALSE FALSE FALSE FALSE FALSE FALSE ## [111,] FALSE FALSE FALSE FALSE FALSE FALSE ## [112,] FALSE FALSE FALSE FALSE FALSE FALSE ## [113,] FALSE FALSE FALSE FALSE FALSE FALSE ## [114,] FALSE FALSE FALSE FALSE FALSE FALSE ## [115,] TRUE FALSE FALSE FALSE FALSE FALSE ## [116,] FALSE FALSE FALSE FALSE FALSE FALSE ## [117,] FALSE FALSE FALSE FALSE FALSE FALSE ## [118,] FALSE FALSE FALSE FALSE FALSE FALSE ## [119,] TRUE FALSE FALSE FALSE FALSE FALSE ## [120,] FALSE FALSE FALSE FALSE FALSE FALSE ## [121,] FALSE FALSE FALSE FALSE FALSE FALSE ## [122,] FALSE FALSE FALSE FALSE FALSE FALSE ## [123,] FALSE FALSE FALSE FALSE FALSE FALSE ## [124,] FALSE FALSE FALSE FALSE FALSE FALSE ## [125,] FALSE FALSE FALSE FALSE FALSE FALSE ## [126,] FALSE FALSE FALSE FALSE FALSE FALSE ## [127,] FALSE FALSE FALSE FALSE FALSE FALSE ## [128,] FALSE FALSE FALSE FALSE FALSE FALSE ## [129,] FALSE FALSE FALSE FALSE FALSE FALSE ## [130,] FALSE FALSE FALSE FALSE FALSE FALSE ## [131,] FALSE FALSE FALSE FALSE FALSE FALSE ## [132,] FALSE FALSE FALSE FALSE FALSE FALSE ## [133,] FALSE FALSE FALSE FALSE FALSE FALSE ## [134,] FALSE FALSE FALSE FALSE FALSE FALSE ## [135,] FALSE FALSE FALSE FALSE FALSE FALSE ## [136,] FALSE FALSE FALSE FALSE FALSE FALSE ## [137,] FALSE FALSE FALSE FALSE FALSE FALSE ## [138,] FALSE FALSE FALSE FALSE FALSE FALSE ## [139,] FALSE FALSE FALSE FALSE FALSE FALSE ## [140,] FALSE FALSE FALSE FALSE FALSE FALSE ## [141,] FALSE FALSE FALSE FALSE FALSE FALSE ## [142,] FALSE FALSE FALSE FALSE FALSE FALSE ## [143,] FALSE FALSE FALSE FALSE FALSE FALSE ## [144,] FALSE FALSE FALSE FALSE FALSE FALSE ## [145,] FALSE FALSE FALSE FALSE FALSE FALSE ## [146,] FALSE FALSE FALSE FALSE FALSE FALSE ## [147,] FALSE FALSE FALSE FALSE FALSE FALSE ## [148,] FALSE FALSE FALSE FALSE FALSE FALSE ## [149,] FALSE FALSE FALSE FALSE FALSE FALSE ## [150,] TRUE FALSE FALSE FALSE FALSE FALSE ## [151,] FALSE FALSE FALSE FALSE FALSE FALSE ## [152,] FALSE FALSE FALSE FALSE FALSE FALSE ## [153,] FALSE FALSE FALSE FALSE FALSE FALSE This will list out TRUE or FALSE for every value in new_data, for the question “is this value equal to NA?”. It’s kind hard to read, though. If we wanted to get a general sense of how many NAs there were in our entire dataset, we could do something like this: # library(magrittr) # load the library if its not already loaded airquality %&gt;% is.na() %&gt;% sum() ## [1] 44 3.3 Ignoring missing values If we try to call some descriptive statistics on any columns with NA values, we will get an ugly result. Let’s try getting the mean for Ozone levels. mean(airquality[, 1]) ## [1] NA Not what we were looking for. By default, many functions in R will return NA if called on a vector with any NA values inside. We can override this behavior by adding the na.rm = TRUE argument mean(airquality[, 1], na.rm = TRUE) ## [1] 42.12931 There are important questions to ask yourself when dealing with missing data, there’s no one-size-fits-all answer for it. A slapdash approach is to simply remove any rows with missing data. aircomplete &lt;- airquality[complete.cases(airquality), ] If you call nrow on aircomplete, you’ll see we have 111 rows now instead of the 153 we had before. nrow(aircomplete) ## [1] 111 3.4 Analyzing and Visualizing the data using a script 3.4.1 Creating a R script to save code and analysis Now, I want you to go back and do everything we just did over again. What, you think that’s ridiculous? The reality is, we often have to go back and make changes upstream. When we do this, it can get very, very painful if we’re doing everything interactively, in the console. In all our previous examples we have been using the interactive console. It is an excellent application to quickly analyze the data, but we need to keep a reasonable log of what we did (and possibly way). Let us start by creating a file, with all the commands we used in a sequence. Click the symbol for New Script and you’ll see RStudio’s built-in text editor pop up. And then we will clear the session, to remove all the variables from the environment. This insures that we are starting with a clean slate. Let’s take a moment to put all our work in. I know it’s a pain but it will pay off if we want to make changes later. It is good practice, in programming to place all the libraries we need at the top. Imagine arranging all the ingredients before we start following a recipie for our dish. # load libraries library(ggplot2) library(dplyr) # read in data airquality &lt;- read.csv(&#39;airquality.csv&#39;) &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD We can start by visualizing the data. We have more data to play with now, but let’s start with the same plot we used last time. # plot to compare temperature vs ozone plt &lt;- ggplot(airquality) + geom_point(aes(x=Temp, y=Ozone)) print(plt) ## Warning: Removed 37 rows containing missing values (geom_point). ======= We can start by visualizing the data. We have more data to play with now, but let’s start with the same plot we used last time. # plot to compare temperature vs ozone plt &lt;- ggplot(airquality) + geom_point(aes(x=Temp, y=Ozone)) print(plt) ## Warning: Removed 37 rows containing missing values (geom_point). You’ll notice two new things about what we did here. First, we assign the output to plt, this will be important when we want to make adjustments to the plot later. Second, you’ll notice when we do that, nothing appears; we have to print the plt to get it to show up. # filter for only complete cases aircomplete &lt;- airquality[complete.cases(airquality), ] # create a plot comparing, Ozone levels with Temperature plt &lt;- ggplot(aircomplete) + geom_point(aes(x=Temp, y=Ozone)) print(plt) We can run the entire script by clicking Source at the top of the editor pane. To run just a specific line or lines, you can select the section you want to run and then click Run Let’s get back to our data. You may have seen a pattern in the plot we made earlier. Let’s pick up our analysis with a little more visualization and some modeling. 3.5 Modeling the data We’ll model the data using the reliable lm() function again. Let’s add the following to the end of our script and Source it. ozone_model &lt;- lm(Ozone ~ Temp, data = aircomplete) print(summary(ozone_model)) ## ## Call: ## lm(formula = Ozone ~ Temp, data = aircomplete) ## ## Residuals: ## Min 1Q Median 3Q Max ## -40.922 -17.459 -0.874 10.444 118.078 ## ## Coefficients: ## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) -147.6461 18.7553 -7.872 2.76e-12 *** ## Temp 2.4391 0.2393 10.192 &lt; 2e-16 *** ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 ## ## Residual standard error: 23.92 on 109 degrees of freedom ## Multiple R-squared: 0.488, Adjusted R-squared: 0.4833 ## F-statistic: 103.9 on 1 and 109 DF, p-value: &lt; 2.2e-16 Our model tells us there is a statistically significant relationship between Ozone and Temperature. If we want to add the linear model to our plot, we can use the geom_abline() function. geom_abline() takes two arguments, the intercept and slope. We can use the coef() function to extract those values from the model. Add the following lines to your script and Source it. coef(ozone_model) ## (Intercept) Temp ## -147.64607 2.43911 With that info, we’re ready to add our linear model. Add the following lines to your script and Source it. plt_2 &lt;- plt + geom_abline(intercept = -147.64607 , slope = 2.43911) print(plt_2) 3.6 Making a reproducible report Great. Now, what if we want to make a report of our work? With R, you get the power of knitr, which will knit your work together into a report. Let’s try it on our current script. Go to File -&gt; Knit Document, name the file airquality_report and select HTML, then watch the magic happen! Here is a link to an example script: example_script.R example_script.html R basically convert the R script into markdown, and then into HTML. So have have the option of including some additional markdown instructions in this set. We need just to prefix all lines with a #' to use markdown Here are a set of a few markdown examples. R basically convert the R script into markdown, and then into HTML. So have have the option of including some additional markdown instructions in this set. We need just to prefix all lines with a #' to use markdown Here are a set of a few markdown examples. "],
["time-to-start-exploring-the-data.html", "4 Time to start exploring the data! 4.1 R Graphics", " 4 Time to start exploring the data! require(&#39;magrittr&#39;) require(&#39;ggplot2&#39;) require(&#39;Hmisc&#39;) So far we’ve loaded the dataset, we’ve done some high level exploration of the structure, cleaned up the data and even created a simple linear model. In most projects, this will be the hardest part. Once you have your data loaded and cleaned, a common next step is to use R’s powerful graphics packages to create some exploratory graphics to help you visualize the dataset. 4.1 R Graphics R has a few graphics packages to choose from. Many useful plots come ‘out of the box’ in R. For example, if we want to see a scatterplot matrix of all the data columns in the airquality dataset, we could use the pairs funtion. pairs(airquality) While the basic package is nice, we will be using ggplot2 today. It is a powerful graphics package that is designed to make your plots adaptable, scalable, and easy to produce. It is a very popular graphics package used by a large number of R users worldwide. Many times, it’s helpful to just do a scatterplot of two variables p &lt;- ggplot(airquality, aes(Ozone, Solar.R)) + geom_point() p ## Warning: Removed 42 rows containing missing values (geom_point). "],
["exploring-further.html", "5 Exploring further", " 5 Exploring further "],
["learning-more.html", "6 Learning More 6.1 Next Steps 6.2 Getting Practice 6.3 Getting Help 6.4 Staying up to date", " 6 Learning More There are many ways to continue learning R. No matter what you choose to be your next step, we’re here and eager to share experiences and questions! Join us in person for our Houston R UseRs Meetups or online in our Slack chat anytime. 6.1 Next Steps The following resources are great next steps to take for learning more on using R after this workshop. 6.1.1 R for Data Science This book penned by Hadley Wickham and Garrett Grolemund covers modern standards on using R for data science with a cohesive and conversational narrative. The book covers in more detail some topics we touched on during this workshop for: Getting your data into R Cleaning your data Exploring your data by transforming, visualizing, and modeling Creating reproducible reports For a great overview of what’s in the book, check out this page. With R and RStudio setup on your computer, you are ready to start using this book right away. 6.1.2 Read other people’s scripts Kaggle Titantic examples Gettings started in R Exploring Survival on the Titanic R by example R Examples 6.1.3 Quick-R 6.1.4 Data Camp 6.1.5 How to learn R 6.2 Getting Practice 6.2.1 Houston data jams 6.2.2 Kaggle 6.2.3 drivendata 6.3 Getting Help 6.3.1 Houston R UseRs Slack and Meetup 6.3.2 Stack Overflow 6.4 Staying up to date 6.4.1 RWeekly 6.4.2 Awesome-R "],
["installation-instructions.html", "7 Installation Instructions 7.1 Installing R on Mac OS X 7.2 Installing R on Windows", " 7 Installation Instructions 7.1 Installing R on Mac OS X 7.1.1 Installing R with Homebrew If you are not sure if you have Homebrew, open your Terminal or CLI and type which brew. If you get output like this: /usr/local/bin/brew, then you have Homebrew and you are good to go. Otherwise, if you get: command not found, you’ll need to install it from here: http://brew.sh/. After confirming you have Homebrew, proceed with instructions: Open Terminal. Before installing anything, run brew update &amp;&amp; brew upgrade Copy/paste the comands below to install R: $ brew tap caskroom/cask $ brew install homebrew/completions/brew-cask-completion $ brew install Caskroom/cask/xquartz $ brew cask install java $ brew tap homebrew/science $ brew install R Trouble Shooting … 7.2 Installing R on Windows "]
]
